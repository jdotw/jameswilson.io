---
import { getCollection } from "astro:content";
import ArticleCard from "../components/ArticleCard.astro";
import Twitch from "../components/Twitch.astro";
import YouTube from "../components/YouTube.astro";
import ArticlePreview from "./ArticlePreview.astro";
import HeroLink from "./HeroLink.astro";
import NavBar from "./NavBar.astro";

const articlePosts = (await getCollection("articles")).sort(
  (a, b) => b.data.date.getTime() - a.data.date.getTime()
);
const latestPost = articlePosts[0];
---

<div class="bg-neutral-800 text-white">
  <!-- Hero -->
  <div
    class="flex flex-row justify-end bg-[url('/about/headshot-wide-cropped-left-no-bg.png')] bg-cover bg-no-repeat bg-left min-h-[24rem]"
  >
    <div class="flex w-full justify-end">
      <div class="hidden min-[580px]:flex flex-row items-end pl-5 pb-5">
        <Twitch channel="jdotw" />
      </div>
      <div class="flex flex-grow flex-shrink-0 flex-col justify-center">
        <h1 class="hero-heading-1 mb-2">
          <a href="/about" class="hover:underline">James Wilson</a>
        </h1>
        <h2 class="hero-heading-2">
          <HeroLink title="Engineer" link="/engineer" />
          <HeroLink title="Leader" link="/leader" />
          <HeroLink title="Astrophotographer" link="/astro" />
          <HeroLink title="Musician" link="/music" />
        </h2>
      </div>
      <div class="hidden md:flex md:w-80 lg:w-1/2 xl:w-1/2 md:p-5">
        <ArticleCard article={latestPost} />
      </div>
    </div>
  </div>
  <div
    class="flex flex-col px-3 mb-5 gap-5 min-[600px]:flex-row md:hidden bg-neutral-800"
  >
    <div class="flex min-[580px]:hidden h-48">
      <Twitch channel="jdotw" />
    </div>
    <!-- <div class="">
      <YouTube embed="-ROZuPlJWFo?list=UUuNEUzvXLwaMn51uUsB0ILQ" />
    </div>
    <div class="">
      <YouTube embed="o83GysKTvO0?list=PL3kd2QrOG8tDcczjFb-Qwg2sSr_8w1vfP" />
    </div> -->
    <!-- <div class="p-5 md:hidden bg-white text-neutral-900"> -->
    <div class="">
      <ArticleCard article={latestPost} />
    </div>

    <!-- </div> -->
  </div>
</div>
