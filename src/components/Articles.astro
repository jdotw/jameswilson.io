---
import { getCollection, getEntryBySlug } from "astro:content";
import { Image } from "@astrojs/image/components";
import ArticlePreview from "./ArticlePreview.astro";
import ArticleCard from "./ArticleCard.astro";

const articlePosts = (await getCollection("articles")).sort(
  (a, b) => b.data.date.getTime() - a.data.date.getTime()
);
const latestPost = articlePosts[0];
---

<div class="">
  <h2 class="heading-2">Articles</h2>
  <div class="hidden md:flex items-center mt-5">
    <ArticlePreview article={latestPost} />
  </div>
  <div class="grid grid-cols-2 md:grid-cols-3">
    {articlePosts.slice(1).map((post) => <ArticleCard article={post} />)}
  </div>
</div>
